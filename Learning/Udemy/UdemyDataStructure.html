<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script>
    // ** Objects
    // reference type
    //  let object1 = {value:10};
    //  console.log(object1)
    //
    //  let object2 = object1
    //
    //  let object3 = {value:10};
    //
    //  console.log(object1===object2)
    //  console.log(object3)
    // console.log(object1===object3)
    // Context vs scope

    // ** Arrays

 //    const strings = ['a', 'b', 'c', 'd']
 //    // 4*4= 16 bytes of storage
 //    // methods of array
 //    // push
 //    strings.push('e') // 0(1)
 //    strings.pop(); //0(1)
 //    strings.pop(); //0(1)
 //
 //    // add things on front use unshift
 //    // with unshift change the indexes of all elements
 //    // so that's why the Big 0(n)
 //
 //    strings.unshift('x')
 //
 // // //   add and delete thing in the middle use the splice method
 //    strings.splice(2,0,"alien") // 0(n)
 //
 //    console.log(strings)
 //
 //    // //Implementing An array
 //    // class based
 //    class MyArray {
 //        constructor() {
 //            this.length = 0;
 //            this.data = {};
 //        }
 //
 //        get(index) {
 //            return this.data[index]
 //        }
 //
 //        push(item) {
 //            this.data[this.length] = item;
 //            this.length++;
 //            return this.length;
 //        }
 //
 //        pop() {
 //            const lastItem = this.data[this.length - 1]
 //            delete this.data[this.length - 1];
 //            this.length--;
 //            return lastItem;
 //        }
 //
 //        delete(index) {
 //            const item = this.data[index];
 //            this.shiftItems(index)
 //
 //        }
 //
 //        shiftItems(index) {
 //            for (let i = index; i <this.length-1; i++)
 //            {
 //
 //                this.data[i]=this.data[i+1];
 //            }
 //           delete this.data[this.length-1]
 //        }
 //    }
 //
 //    const newArray = new MyArray();
 //    newArray.push("hi")
 //    newArray.push("!")
 //    newArray.push("you")
 //    newArray.push("are")
 //    newArray.push("good")
 //    newArray.push("good")
 //    newArray.delete(1)
 //    console.log(newArray)
 //    newArray.pop()


   // // function based
   //      function MyArray() {
   //          const data = {};
   //          let length = 0;
   //
   //          function get(index) {
   //              return data[index];
   //          }
   //
   //          function push(item) {
   //              data[length] = item;
   //              length++;
   //              return length;
   //          }
   //
   //          return {
   //              get,
   //              push,
   //          };
   //      }
   //
   //      const newArray = MyArray();
   //      newArray.push("hi");
   //      newArray.push("good");
   //      console.log(newArray);

    // //Strings in arrays
    // //reverse array

   //  let str = "hi my name is some"
   //
   //  function reverseString(str) {
   //      // check input
   //      if (!str || str.length < 2 || typeof str !== "string") {
   //          return "That's not string"
   //      }
   //      const backward = [];
   //      const totalItems = str.length - 1;
   //      for (let i = totalItems; i >= 0; i--) {
   //          backward.push(str[i])
   //      }
   //  console.log(backward)
   //      return backward.join('')
   //
   //  }
   //
   //  function reverseString2(str) {
   //      return str.split('').reverse().join("")
   //
   //  }
   //  const reverseString3 = (str) => [...str].reverse().join('')
   //
   //      console.log(reverseString(str))
   //      console.log(reverseString2(str))
   //      console.log(reverseString3(str))
   //
   //  // //second question merge two arrays and sort
   //
   //  function mergeSortedArrays(arr1, arr2) {
   //      let merge = arr1.concat(arr2)
   //      return merge.sort((a, b) => {
   //          return a - b
   //      })
   //  }
   //
   //  console.log(mergeSortedArrays([0, 3, 4, 31], [4, 6, 30]));
   //
   // // // function from the udemy answer
   //      function mergeSortedArrays(array1,array2) {
   //          const mergeArray=[];
   //          let array1Item =array1[0];
   //          let array2Item =array2[0];
   //          let i =1;
   //          let j=1;
   //          // check input
   //          if (array1.length===0){
   //              return array2;
   //          }
   //          if (array2.length===0){
   //              return array1
   //          }
   //          while (array1Item|| array2Item){
   //              console.log(array1Item,array2Item)
   //              if (!array2Item || array1Item<array2Item){
   //                  mergeArray.push(array1Item)
   //                  array1Item=array1[i];
   //                  i++;
   //              }else {
   //                  mergeArray.push(array2Item);
   //                  array2Item=array2[j]
   //                  j++;
   //              }
   //          }
   //          return mergeArray;
   //      }
   //  console.log(mergeSortedArrays([0, 3, 4, 31], [4, 6, 30]))
   //
   //  // some problems on LeetCode
   //  // https://coderbyte.com/editor/Longest%20Word:JavaScript
   //  function twoSum(nums, target) {
   //
   //  }
   //
   //  console.log(twoSum([2, 7, 11, 15], 9))


    // ** Hash tables or Hash maps
    // in JS hash are technically objects

    // let user = {
    //     age: 25,
    //     name: "Gurjap",
    //     magic: true,
    //     scream: function () {
    //         console.log("please do thaty")
    //     }
    // }
    //
    // // implement the hash table
    //
    // function createHashTable(size) {
    //     const data = new Array(size);
    //
    //     function hash(key) {
    //         let hash = 0;
    //         for (let i = 0; i < key.length; i++) {
    //             hash = (hash + key.charCodeAt(i) * i) % data.length;
    //             // console.log(hash,"hash")
    //         }
    //         return hash;
    //     }
    //
    //
    //     function set(key, value) {
    //         const address = hash(key);
    //         // data[address] = [key, value];
    //         // return data.length;
    //         if (!data[address]) {
    //             data[address] = [];
    //             // console.log(data)
    //         }
    //         data[address].push([key, value])
    //         return data //0(1)
    //     }
    //
    //     function get(key) {
    //         const address = hash(key);
    //         // return data[hashedIndex] ? data[hashedIndex][1] : undefined;
    //         const currentBucket = data[address];
    //         // console.log(currentBucket)
    //         if (currentBucket) {
    //             for (let i = 0; i < currentBucket.length; i++) {
    //                 if (currentBucket[i][0] === key) {
    //                     return currentBucket[i][1]
    //                 }
    //             }
    //         } //0(1)
    //         return undefined
    //     }
    // decided to enhance the previous
    // keys() {
    //         if (!this.data.length) {
    //             return undefined
    //         }
    //         let result = []
    //         // loop through all the elements
    //         for (let i = 0; i < this.data.length; i++) {
    //             // if it's not an empty memory cell
    //             if (this.data[i] && this.data[i].length) {
    //                 // but also loop through all the potential collisions
    //                 if (this.data.length > 1) {
    //                     for (let j = 0; j < this.data[i].length; j++) {
    //                         result.push(this.data[i][j][0])
    //                     }
    //                 } else {
    //                     result.push(this.data[i][0])
    //                 }
    //             }
    //         }
    //         return result;
    //     }

    //     function keys() {
    //         const keysArray = [];
    //         for (let i = 0; i < data.length; i++) {
    //             if (data[i]){
    //                 console.log(data[i])
    //                 keysArray.push(data[i][0][1])
    //             }
    //
    //         }
    //         return keysArray
    //     }
    //
    //     return {set, get, keys};
    // }
    //
    // // Usage example:
    //
    // const hashTable = createHashTable(50);
    // console.log(hashTable.set("grapes", 10000));
    // console.log(hashTable.set("apples", 54));
    // console.log(hashTable.set("oranges", 2));
    // console.log(hashTable.get("apples"))
    // console.log(hashTable.keys())

    // Exercise google question
    // given ab array =[2,5,1,2,3,5,1,2,4]
    //In this return the value which is repeated first like in 2 is repeated first it should return 2
    //
    // let array = [2, 5, 1, 2, 3, 5, 1, 2, 4]// It return 2
    // let array2 = [2, 1, 1, 2, 3, 5, 1, 2, 4]//  It should return 1
    // let array3 = [2, 3, 4, 5]// It should return undefined
    // solution with arrays

    // function repeated(input) {
    //     for (let i = 0; i < input.length; i++) {
    //         for (let j = 0; j < i; j++) {
    //             if (input[i] === input[j]) {
    //                 return input[i]
    //             }
    //         }
    //     }
    //     return undefined; //0(n^2)

    // const seen = []; // Array to store seen values
    // for (let i = 0; i < input.length; i++) {
    //     if (seen.includes(input[i])) {
    //         return input[i]; // Return the first repeated value
    //     }
    //     seen.push(input[i]); // Add the value to the seen array
    // }
    // return undefined; //
    // }

    // solution with hash tables

    // function repeated(input) {
    //     let hashMap = {};
    //     for (let i = 0; i < input.length; i++) {
    //         if (hashMap[input[i]] !== undefined) {
    //             return input[i]
    //         } else {
    //             hashMap[input[i]] = i
    //         }
    //         console.log(hashMap)
    //     }
    //     return undefined //0(n)
    // }
    //
    //  console.log(repeated(array))


    // **** Linked list DS

    // const basket =['apples','grapes','pears']

    // linked list diagram:

    // apples
    // 8947-->grapes
    // 8742-->pears
    //372-->null
    // pointer
    // let obj1={a:true};
    // let obj2=obj1; //point same location in the memory
    // obj1.a="some"
    // delete obj1
    // // console.log('1',obj1)
    // console.log('2',obj2)

    // our first linked list
    // 10-->5-->16
    //
    // let myLinkedList = {
    //     head: {
    //         value: 10,
    //         next: {             // reference in memory and  pointer always pointy to the next node
    //             value: 5,
    //             next: {
    //                 value: 16,
    //                 next: null
    //             }
    //         }
    //     }
    // }
   // singly linkedList
    class Node {
        constructor(value) {
            this.value = value;
            this.next = null;
        }
    }

    class LinkedList {
        constructor(value) {
            this.head = {
                value: value,
                next: null
            }
            this.tail = this.head
            this.length = 1;
        }

        append(value) {
            // const newNode = new Node(value)
            const newNode = {
                value: value,
                next: null
            }
            this.tail.next = newNode;
            this.tail = newNode
            this.length++
        }

        prepend(value) {
            const newNode = {
                value: value,
                next: null
            }
            newNode.next = this.head;
            this.head = newNode
            this.length++
        }

        printList() {
            const array = [];
            let currentNode = this.head;
            while (currentNode !== null) {
                array.push(currentNode.value)
                currentNode = currentNode.next
            }
            return array
        }

        insert(index, value) {
            //check params
            if (index >= this.length) {
                return this.append(value)
            }
            const newNode = {
                value: value,
                next: null
            };
            const leader = this.traverseToIndex(index - 1)
            const holdingPointer = leader.next;
            leader.next = newNode

            newNode.next = holdingPointer;
            this.length++
            return this.printList()
        }

        traverseToIndex(index) {
            // check params
            let counter = 0;
            let currentNode = this.head;
            while (counter !== index) {
                currentNode = currentNode.next;
                counter++;
            }
            return currentNode;
        }

        remove(index) {
            const leader = this.traverseToIndex(index - 1)
            const unwantedNode = leader.next;
            leader.next = unwantedNode.next;
            this.length--
            return this.printList()
        }
    }

    const myLinkedList = new LinkedList(10)
    myLinkedList.append(5)
    myLinkedList.prepend(255)
    myLinkedList.append(16)


    console.log(myLinkedList.insert(2, 99), "insert")
    console.log(myLinkedList.printList(), "printList")
    console.log(myLinkedList.remove(3), "remove")
    console.log(myLinkedList, "LinkedList")

        // function based
        function createLinkedList(value) {
            const linkedList = {
                head: {
                    value: value,
                    next: null
                },
                tail: null,
                length: 1
            };

            linkedList.append = function (value) {
                const newNode = {
                    value: value,
                    next: null
                };

                if (!linkedList.tail) {
                    linkedList.head.next = newNode;
                    linkedList.tail = newNode;
                } else {
                    linkedList.tail.next = newNode;
                    linkedList.tail = newNode;
                }

                linkedList.length++;
            };
            linkedList.prepend = function (value) {
                const newNode = {
                    value: value,
                    next: null
                };
                newNode.next = linkedList.head;
                linkedList.head = newNode
                linkedList.length++
            }
            return linkedList;
        }

        const myLinkedList2 = createLinkedList(10);
        myLinkedList2.append(5);
        myLinkedList2.append(5);
        myLinkedList2.prepend(126);
    console.log(myLinkedList2);

    class DoublyLinkedList {
        constructor(value) {
            this.head = {
                value: value,
                next: null,
                prev: null
            }
            this.tail = this.head
            this.length = 1;
        }

        append(value) {
            const newNode = {
                value: value,
                next: null,
                prev: null
            }
            newNode.prev = this.tail;
            this.tail.next = newNode;
            this.tail = newNode
            this.length++
            return this
        }

        prepend(value) {
            const newNode = {
                value: value,
                next: null,
                prev: null
            }
            newNode.next = this.head;
            this.head.prev = newNode
            this.head = newNode
            this.length++
            return this
        }

        printList() {
            const array = [];
            let currentNode = this.head;
            while (currentNode !== null) {
                array.push(currentNode.value)
                currentNode = currentNode.next
            }
            return array
        }

        insert(index, value) {
            //check params
            if (index >= this.length) {
                return this.append(value)
            }
            const newNode = {
                value: value,
                next: null,
                prev: null
            };
            const leader = this.traverseToIndex(index - 1)
            const follower = leader.next;
            leader.next = newNode;
            newNode.prev = leader;
            newNode.next = follower;
            follower.prev =newNode
            this.length++
            console.log(this)
            return this.printList()
        }

        traverseToIndex(index) {
            // check params
            let counter = 0;
            let currentNode = this.head;
            while (counter !== index) {
                currentNode = currentNode.next;
                counter++;
            }
            return currentNode;
        }

        remove(index) {
            const leader = this.traverseToIndex(index - 1)
            const unwantedNode = leader.next;
            leader.next = unwantedNode.next;
            this.length--
            return this.printList()
        }
    }

    const myLinkedList = new DoublyLinkedList(10)
    myLinkedList.append(5)
    myLinkedList.append(16)
    myLinkedList.prepend(255)
    console.log(myLinkedList.insert(2, 99), "insert")
    console.log(myLinkedList.printList(), "printList")
    console.log(myLinkedList.remove(3), "remove")
    console.log(myLinkedList, "DoublyLinkedList")
</script>

</body>
</html>